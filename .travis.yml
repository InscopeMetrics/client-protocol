cache:
  directories:
  - "$HOME/.m2"
  - "$HOME/.jdk"
sudo: false
env:
  global:
  - TARGET=install
  - JDKW=https://raw.githubusercontent.com/vjkoskela/jdk-wrapper/master/jdk-wrapper.sh
  - secure: huA61nECMEM6/sdDLcBaH14p5GA0XDzXenXuE+c4A2ZEmwy3HMTQVmk2ZAZZHATbapmQvW6xRcSR/RbTPH5Q5QRy7UgTzAOfrTYRNYWPGiFkSHLmOSiRpZvLvPuxmrPaVo4neofaRleSefosPhzmsEMknYJIrwWQ9YyQg/f4zKOGjWCxNxD4n23zDA/OxVs88l6mbfXXMsBR6lSk9fdTMr09WVf25oXMXN0CT2WBbdSoIq+NUv5kHBx2aaveaPVE0pG0Or6Kw9AnUzzGBORzmWqDg0K3eyguOi7O77RqdJAjgfOAV6yAV7FVO12eFiqIsGHeztL7B8x0vKMUQf7WJpG2H3wWmvEpoXto/EAjtMldC/RphF6rLNrslrEhoai45CO8cYtszrUMo4b8ucNF9bqJbLH+moW/VRnpzED0mo372Kr3N/A1ZPPa75aLkeiefIcNCI4ktlcaLFdNY6MazrWVJp0q2MyTS0Q07K3OIqZ+eGsTxlrAPfNLljwqZ2gPQQA0naKXO2U7+UDvyevmUamZMxCFqdLWfykpsq25+lLwPIKTVYUVweNa8paHoLiUQKa4LXnMQtyocNqMmwMw83GCIz/hFXEWg3y3eKNHrK/P5Pc13We/Gw/Wpa5/PNu+TJ23i9hb6eY/C4o59I/CUp++7ajKO44hq9aG6MiKM4w=
  - secure: EjwKYSVXwguUIlBu2c72B102Ga7wJXxz1fQQ0ups+ttC7e5opn0+cQjfdbtqkObQK/GNh9xbKM/G6g640JEKtt4Xq1sjxynTOznIdICMyKzdJ/GKDG/0rbP/N2iLbxxxXcjNRT2qNKccsbL4EL6ZD8D2cej/A5rLaUgLOWLlpOfmLUjtShOaAgcqNfgF7io8PyPSUT3djEoNYnJVB/7x0MNr3VJJ2tiC/1p7GOJUbdIvi/JRirT3FmRwBgVfgl0x6I3TazyN2OV0CjKKV5HDofQgyoB5FTe51x8I9r0wu+1+WVBYyCA1kiETeXUHdz+spym7jpHHVqIgNf5I0VvHl9quDfSHDFmm8E/ohWDGYbcNXvf7zvCeX0CEoJVz9tfjXscy0VaYa82Al1dcoaUi1YehO2cWzl1b6IxyPnbiIdUsb+rwxjvMWgGEDqKNMHgxRbVqkyd3tGYCr4A+hDyLPfq8R4P66v2lE0JyE1qfUy1XirExy3/mLL569Swj5QnJGTplXbtD6RFjSre4kcKYPr4FaGtsVbytGsHClbJzVrX7iWrIJRo1NNhVMGQ2nI+kX5HwlQ/Gbz8o5UcohhrstP1DBqyYhyTdUsN7nDRVk9cuD0evgeU7tbJhVnAp+fFt8qC77P5yldOaTItW+PJz/G2g8gfz+OkWLZrMzTUnbYU=
  - secure: F2gwTa+tX8hWvuWIGAnS+MWEewHEc7/qV3xk49zD5+/MzFtK39W2cuooj5NwrM9ytYbfYaP0t2blbwcsU6gE2RGPFhV0wNE004kukFBB2YG4xa6Z7YiyM6J7515pj/b6fVN9sM1ZS8y2uYPTOVj7BEtQSEQiagmQCGGyshD8PiUW3JVjIkvHoVFRIRMmKcCHw5Z4i8lBpY1kkqjo8twHr/P5Yt0sxYxSj9QAAS2/5xJevw57Uz+vDeu3jZjXUpt+qaRmZGM3E5Mepzsus58nXsYpJFYRJkZ+ju+FpBTxgEXRPrdtZtfl1vewjZ7zZkA5W7Ss72B0rFReQjOKsdjeElqicarfOGEt5sMMf9uwEMAC0m0Lx/hyOjNf7dTOysVrtvaRITChkJQ+rFIxgDeiJ9V0dz/wx4+RB8O+vGgwHMBN4xsgLO+SZYs0FC5baXptSdUB4NLDHIaQGzTXwHM6MG1U+p/++4pR/tINxa0W4Nz4D8FT5BTfwHUzYUMMFU9/ZTmesqd8jLvZ/P/f1rATiUGNylXird7r79q1h5EcD5Okqlqr6c+WeUV4jfNerDaiVbO5gziJCUQHC4Viz+tDams81e1vzZ9yhIamOlmxAq9JmIxlc0ZUn+pzCgwrF/sMUMbmX1ti+it5l0AsmhHwOVzYfwRoyelb0VzBr5rwaIg=
install: true
before_script:
- gpg --import ism.key
- if [ \( -n "${TRAVIS_TAG}" \) -a  "${TRAVIS_PULL_REQUEST}" = "false" ]; then export TARGET="deploy -P release"; fi;
script:
- curl -s ${JDKW} | bash /dev/stdin ./mvnw clean ${TARGET} --settings settings.xml -U
